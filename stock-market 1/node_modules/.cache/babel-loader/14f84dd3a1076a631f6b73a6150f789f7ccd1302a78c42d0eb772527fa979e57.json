{"ast":null,"code":"var _jsxFileName = \"/Users/arvindmali/Downloads/stock-market 1/src/components/Stockcontext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useReducer, createContext, useContext, act } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst InitialState = {\n  stocks: [],\n  balance: 100000\n};\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'Sell':\n      const newstock = state.stocks.map(item => {\n        if (item.id === action.state.id) {\n          return {\n            ...item,\n            quantity: item.quantity - 1\n          };\n        }\n        return item;\n      }).filter(item => item.quantity > 0);\n      return {\n        ...state,\n        stocks: newstock,\n        balance: state.balance + action.stock.price\n      };\n    case 'Buy':\n      const stk = state.stocks.find(item => item.id == action.stock.id);\n      const newstk = {\n        ...action.stock,\n        quantity: 1\n      };\n      return {\n        ...state,\n        stocks: stk ? state.stocks.map(item => item.id === action.stock.id ? {\n          ...item,\n          quantity: item.quantity + 1\n        } : item) : {\n          ...state.stocks,\n          newstk\n        },\n        balance: state.balance - action.stock.price\n      };\n    default:\n      return state;\n  }\n};\nconst StockContext = /*#__PURE__*/createContext();\nexport const StockProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(reducer, InitialState);\n  return /*#__PURE__*/_jsxDEV(StockContext.Provider, {\n    value: {\n      state,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 3\n  }, this);\n};\n_s(StockProvider, \"t2YXRAGqQS0gK432FYC+SFA/j9s=\");\n_c = StockProvider;\nexport const useStock = () => {\n  _s2();\n  return useContext(StockContext);\n};\n_s2(useStock, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"StockProvider\");","map":{"version":3,"names":["useReducer","createContext","useContext","act","jsxDEV","_jsxDEV","InitialState","stocks","balance","reducer","state","action","type","newstock","map","item","id","quantity","filter","stock","price","stk","find","newstk","StockContext","StockProvider","children","_s","dispatch","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useStock","_s2","$RefreshReg$"],"sources":["/Users/arvindmali/Downloads/stock-market 1/src/components/Stockcontext.js"],"sourcesContent":["import { useReducer, createContext,useContext, act } from \"react\";\n\nconst InitialState={\n    stocks: [],\n    balance : 100000\n}\n\nconst reducer = (state,action)=>{\n    switch (action.type){\n        case 'Sell':\n            const newstock = state.stocks.map(item=>{\n                if(item.id === action.state.id){\n                    return {...item,quantity:item.quantity-1};\n                }\n                return item;\n            }).filter(item =>item.quantity >0 )\n            \n          return {\n            ...state,\n            stocks: newstock,\n            balance: state.balance+ action.stock.price\n          };\n          \n          case 'Buy':\n            const stk = state.stocks.find(item => item.id == action.stock.id);\n            const newstk = {...action.stock,quantity:1}\n            return {\n            ...state,\n              stocks: stk? state.stocks.map(item=>\n                  item.id === action.stock.id? {...item,quantity: item.quantity+1}:item\n              ):{...state.stocks,newstk},\n              balance: state.balance- action.stock.price \n          };\n          default:\n            return state;\n    }\n}\n\nconst StockContext = createContext();\n\nexport const StockProvider = ({ children }) => {\n    const [state, dispatch] = useReducer(reducer, InitialState);\n   \n    return (\n  <StockContext.Provider value={{ state, dispatch }}>\n        {children}\n  </StockContext.Provider>\n    );\n  };\n\n  export const useStock = () => useContext(StockContext);\n   "],"mappings":";;;AAAA,SAASA,UAAU,EAAEC,aAAa,EAACC,UAAU,EAAEC,GAAG,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElE,MAAMC,YAAY,GAAC;EACfC,MAAM,EAAE,EAAE;EACVC,OAAO,EAAG;AACd,CAAC;AAED,MAAMC,OAAO,GAAGA,CAACC,KAAK,EAACC,MAAM,KAAG;EAC5B,QAAQA,MAAM,CAACC,IAAI;IACf,KAAK,MAAM;MACP,MAAMC,QAAQ,GAAGH,KAAK,CAACH,MAAM,CAACO,GAAG,CAACC,IAAI,IAAE;QACpC,IAAGA,IAAI,CAACC,EAAE,KAAKL,MAAM,CAACD,KAAK,CAACM,EAAE,EAAC;UAC3B,OAAO;YAAC,GAAGD,IAAI;YAACE,QAAQ,EAACF,IAAI,CAACE,QAAQ,GAAC;UAAC,CAAC;QAC7C;QACA,OAAOF,IAAI;MACf,CAAC,CAAC,CAACG,MAAM,CAACH,IAAI,IAAGA,IAAI,CAACE,QAAQ,GAAE,CAAE,CAAC;MAErC,OAAO;QACL,GAAGP,KAAK;QACRH,MAAM,EAAEM,QAAQ;QAChBL,OAAO,EAAEE,KAAK,CAACF,OAAO,GAAEG,MAAM,CAACQ,KAAK,CAACC;MACvC,CAAC;IAED,KAAK,KAAK;MACR,MAAMC,GAAG,GAAGX,KAAK,CAACH,MAAM,CAACe,IAAI,CAACP,IAAI,IAAIA,IAAI,CAACC,EAAE,IAAIL,MAAM,CAACQ,KAAK,CAACH,EAAE,CAAC;MACjE,MAAMO,MAAM,GAAG;QAAC,GAAGZ,MAAM,CAACQ,KAAK;QAACF,QAAQ,EAAC;MAAC,CAAC;MAC3C,OAAO;QACP,GAAGP,KAAK;QACNH,MAAM,EAAEc,GAAG,GAAEX,KAAK,CAACH,MAAM,CAACO,GAAG,CAACC,IAAI,IAC9BA,IAAI,CAACC,EAAE,KAAKL,MAAM,CAACQ,KAAK,CAACH,EAAE,GAAE;UAAC,GAAGD,IAAI;UAACE,QAAQ,EAAEF,IAAI,CAACE,QAAQ,GAAC;QAAC,CAAC,GAACF,IACrE,CAAC,GAAC;UAAC,GAAGL,KAAK,CAACH,MAAM;UAACgB;QAAM,CAAC;QAC1Bf,OAAO,EAAEE,KAAK,CAACF,OAAO,GAAEG,MAAM,CAACQ,KAAK,CAACC;MACzC,CAAC;IACD;MACE,OAAOV,KAAK;EACpB;AACJ,CAAC;AAED,MAAMc,YAAY,gBAAGvB,aAAa,CAAC,CAAC;AAEpC,OAAO,MAAMwB,aAAa,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC3C,MAAM,CAACjB,KAAK,EAAEkB,QAAQ,CAAC,GAAG5B,UAAU,CAACS,OAAO,EAAEH,YAAY,CAAC;EAE3D,oBACFD,OAAA,CAACmB,YAAY,CAACK,QAAQ;IAACC,KAAK,EAAE;MAAEpB,KAAK;MAAEkB;IAAS,CAAE;IAAAF,QAAA,EAC3CA;EAAQ;IAAAK,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACQ,CAAC;AAExB,CAAC;AAACP,EAAA,CARSF,aAAa;AAAAU,EAAA,GAAbV,aAAa;AAUxB,OAAO,MAAMW,QAAQ,GAAGA,CAAA;EAAAC,GAAA;EAAA,OAAMnC,UAAU,CAACsB,YAAY,CAAC;AAAA;AAACa,GAAA,CAA1CD,QAAQ;AAAA,IAAAD,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}